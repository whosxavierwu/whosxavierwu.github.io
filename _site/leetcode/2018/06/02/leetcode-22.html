<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.5.0 -->
<title>LeetCode #22 | whosxavierwu’s blog</title>
<meta name="generator" content="Jekyll v3.8.2" />
<meta property="og:title" content="LeetCode #22" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="最近重新开始了在刷题，也尽量多写一写吧。" />
<meta property="og:description" content="最近重新开始了在刷题，也尽量多写一写吧。" />
<link rel="canonical" href="http://localhost:8181/leetcode/2018/06/02/leetcode-22.html" />
<meta property="og:url" content="http://localhost:8181/leetcode/2018/06/02/leetcode-22.html" />
<meta property="og:site_name" content="whosxavierwu’s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-06-02T22:30:00+08:00" />
<script type="application/ld+json">
{"headline":"LeetCode #22","dateModified":"2018-06-02T22:30:00+08:00","datePublished":"2018-06-02T22:30:00+08:00","url":"http://localhost:8181/leetcode/2018/06/02/leetcode-22.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:8181/leetcode/2018/06/02/leetcode-22.html"},"description":"最近重新开始了在刷题，也尽量多写一写吧。","@type":"BlogPosting","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:8181/feed.xml" title="whosxavierwu's blog" /></head>
<body><script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      inlineMath: [['$','$']]
    }
  });
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">LeetCode #22</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2018-06-02T22:30:00+08:00" itemprop="datePublished">Jun 2, 2018
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>最近重新开始了在刷题，也尽量多写一写吧。</p>

<h1 id="一题目大意">一、题目大意</h1>

<p>指定有N对括号，需要输出所有可能的、形式上正确的括号组合情况。例如N=3时，有</p>

<blockquote>

  <p>[
  “((()))”,
  “(()())”,
  “(())()”,
  “()(())”,
  “()()()”
]</p>
</blockquote>

<p>这五种可能的排列。</p>

<h1 id="二解题思路">二、解题思路：</h1>

<p>主要参考两篇文章：</p>

<p>https://leetcode.com/problems/generate-parentheses/solution/</p>

<p>https://blog.csdn.net/runningtortoises/article/details/45625363</p>

<p>分别有这么几种思路：</p>

<p>1、暴力破解</p>

<p>把所有可能的串都输出来，然后逐个判断合法性。</p>

<p>2、回溯</p>

<p>3、Closure Number</p>

<p>这种思路是我最为喜欢的一种。我们可以发现，一个合法的串总是可以递归的表示为：</p>

<blockquote>
  <p><strong>(</strong>子串1<strong>)</strong>子串2</p>
</blockquote>

<p>两个合法的子串以及一对括号。</p>

<p>想到这一点之后，其实后面的思路很自然的也能想通了：
两个子串的括号对数为N-1，我们只需要遍历所有可能的组合情况就行了，从(0, N-1), (1, N-2), …, (N-1, 0)。
这种思路实际上是按顺序生成 0, 1, …, N 的所有解。</p>

<p>4、增量</p>

<p>不断的判断左右括号的数量，进而选择添加左括号还是添加右括号。</p>

<h1 id="三具体实现">三、具体实现：</h1>

<p>这里就只贴第二种思路的吧。</p>

<figure class="highlight"><pre><code class="language-python" data-lang="python"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre></td><td class="code"><pre><span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="s">"""
    递归版
    """</span>
    <span class="k">def</span> <span class="nf">generateParenthesis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">N</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="p">[</span><span class="s">''</span><span class="p">]</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="n">N</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">left</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">generateParenthesis</span><span class="p">(</span><span class="n">c</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">right</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">generateParenthesis</span><span class="p">(</span><span class="n">N</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="n">c</span><span class="p">):</span>
                    <span class="n">ans</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'({}){}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">ans</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="s">"""
    非递归版
    """</span>
    <span class="k">def</span> <span class="nf">generateParenthesis</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
        <span class="s">"""
        :type n: int
        :rtype: List[str]
        """</span>
        <span class="k">if</span> <span class="n">n</span><span class="o">==</span><span class="mi">0</span><span class="p">:</span> <span class="k">return</span> <span class="p">[</span><span class="s">''</span><span class="p">]</span>
        <span class="n">res_dict</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:[</span><span class="s">''</span><span class="p">]}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
            <span class="n">tmp_res</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">left_count</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">):</span>
                <span class="k">for</span> <span class="n">left</span> <span class="ow">in</span> <span class="n">res_dict</span><span class="p">[</span><span class="n">left_count</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
                    <span class="k">for</span> <span class="n">right</span> <span class="ow">in</span> <span class="n">res_dict</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="n">left_count</span><span class="p">]:</span>
                        <span class="n">tmp_res</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">'({}){}'</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">))</span>
            <span class="n">res_dict</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">tmp_res</span>
        <span class="k">return</span> <span class="n">res_dict</span><span class="p">[</span><span class="n">n</span><span class="p">]</span></pre></td></tr></tbody></table></code></pre></figure>

<p>四、其他</p>

<p>python的好处在于，代码可以相当精简。同样的算法在c里面去实现的话，难度往往会大很多。
python用久了之后，会发现自己“变笨了”，差不多连c都不会用了。
所以偶尔还是得多练练手的。</p>


  </div><a class="u-url" href="/leetcode/2018/06/02/leetcode-22.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">whosxavierwu&#39;s blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">whosxavierwu&#39;s blog</li><li><a class="u-email" href="mailto:whosxavierwu@gmail.com">whosxavierwu@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/whosxavierwu"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">whosxavierwu</span></a></li><li><a href="https://www.linkedin.com/in/zeweiwu"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#linkedin"></use></svg> <span class="username">zeweiwu</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Keep learning, deep learning. </p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
